(()=>{"use strict";var e,n=function(){function e(){}return e.getCookie=function(e){for(var n=0,t=document.cookie?document.cookie.split("; "):[];n<t.length;n++){var o=t[n].split("="),i=o[0],r=o.slice(1);if(decodeURIComponent(i)===e)return decodeURIComponent(r.join("="))}},e.setCookie=function(e,n,t,o,i,r,s){void 0===o&&(o="/"),void 0===i&&(i=window.location.hostname.split(/\./).slice(-2).join(".")),void 0===r&&(r="secure"),void 0===s&&(s="lax");var a="";if(t){var c=new Date;c.setTime(c.getTime()+1e3*t),a="; expires="+c.toUTCString()}document.cookie=e+"="+n+a+";path="+o+";domain="+i+";"+r+";samesite="+s},e}(),t=function(){return t=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},t.apply(this,arguments)},o=function(){function e(){var e=this;this.listeners=[];var n=this.getInitialConsent();this.consentValues={necessary:n.necessary||"denied",functional:n.functional||"denied",analytics:n.analytics||"denied",performance:n.performance||"denied",marketing:n.marketing||"denied"},this.currentConsent={subscribe:function(n){e.listeners.push(n),e.emit()}}}return e.prototype.emit=function(){var e={consent:t({},this.consentValues),handler:this.getConsentHandlerName()};this.listeners.forEach((function(n){return n(e)}))},e.prototype.initialize=function(){this.initializeConsentUpdateListener()},e.prototype.updateConsent=function(e){e.necessary&&(this.consentValues.necessary=e.necessary),e.functional&&(this.consentValues.functional=e.functional),e.analytics&&(this.consentValues.analytics=e.analytics),e.performance&&(this.consentValues.performance=e.performance),e.marketing&&(this.consentValues.marketing=e.marketing),this.emit()},e.prototype.mapConsentType=function(e){return this.getConsentTypeMapping()[e]},e.prototype.mapCookieName=function(e){return this.getCookieNameMapping()[e]},e.prototype.getConsentFromCookie=function(e){var t=this.mapCookieName(e);if(t){var o=n.getCookie(t);if(o)return this.parseConsentCookieValue(e,o)}},e}(),i=(e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},e(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.getConsentHandlerName=function(){return n.consentHandlerName},n.prototype.getConsentTypeMapping=function(){return n.consentTypeMapping},n.prototype.getCookieNameMapping=function(){return n.cookieNameMapping},n.prototype.getInitialConsent=function(){return{necessary:!0===this.getConsentFromCookie("necessary")?"granted":"denied",functional:!0===this.getConsentFromCookie("functional")?"granted":"denied",analytics:!0===this.getConsentFromCookie("analytics")?"granted":"denied",performance:!0===this.getConsentFromCookie("performance")?"granted":"denied",marketing:!0===this.getConsentFromCookie("marketing")?"granted":"denied"}},n.prototype.initializeConsentUpdateListener=function(){var e=this;document.addEventListener("cookieyes_consent_update",(function(n){e.updateConsent({necessary:n.detail.accepted.includes(e.mapConsentType("necessary"))?"granted":"denied",functional:n.detail.accepted.includes(e.mapConsentType("functional"))?"granted":"denied",analytics:n.detail.accepted.includes(e.mapConsentType("analytics"))?"granted":"denied",performance:n.detail.accepted.includes(e.mapConsentType("performance"))?"granted":"denied",marketing:n.detail.accepted.includes(e.mapConsentType("marketing"))?"granted":"denied"})}))},n.prototype.parseConsentCookieValue=function(e,n){return n.includes(this.mapConsentType(e)+":yes")},n.consentHandlerName="cookie-law-info",n.consentTypeMapping={necessary:"necessary",functional:"functional",analytics:"analytics",performance:"performance",marketing:"advertisement"},n.cookieNameMapping={necessary:"cookieyes-consent",functional:"cookieyes-consent",analytics:"cookieyes-consent",performance:"cookieyes-consent",marketing:"cookieyes-consent"},n}(o),s=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},e(n,t)};return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),a=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return s(n,e),n.prototype.getConsentHandlerName=function(){return n.consentHandlerName},n.prototype.getConsentTypeMapping=function(){return n.consentTypeMapping},n.prototype.getCookieNameMapping=function(){return n.cookieNameMapping},n.prototype.getInitialConsent=function(){return{necessary:!0===this.getConsentFromCookie("necessary")?"granted":"denied",functional:!0===this.getConsentFromCookie("functional")?"granted":"denied",analytics:!0===this.getConsentFromCookie("analytics")?"granted":"denied",performance:!0===this.getConsentFromCookie("performance")?"granted":"denied",marketing:!0===this.getConsentFromCookie("marketing")?"granted":"denied"}},n.prototype.initializeConsentUpdateListener=function(){var e=this;window.addEventListener("CookiebotOnConsentReady",(function(){console.log("CookiebotOnConsentReady"),!0===e.getConsentFromCookie("marketing")?e.updateConsent({marketing:"granted"}):!1===e.getConsentFromCookie("marketing")&&e.updateConsent({marketing:"denied"})}))},n.prototype.parseConsentCookieValue=function(e,n){return n.includes(this.mapConsentType(e)+":true")},n.consentHandlerName="cookiebot",n.consentTypeMapping={necessary:"necessary",functional:"preferences",analytics:"statistics",performance:"preferences",marketing:"marketing"},n.cookieNameMapping={necessary:"CookieConsent",functional:"CookieConsent",analytics:"CookieConsent",performance:"CookieConsent",marketing:"CookieConsent"},n}(o),c=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},e(n,t)};return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),p=function(){return p=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},p.apply(this,arguments)},u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return c(n,e),n.prototype.getConsentHandlerName=function(){return n.consentHandlerName},n.prototype.getConsentTypeMapping=function(){return n.consentTypeMapping},n.prototype.getCookieNameMapping=function(){return n.cookieNameMapping},n.prototype.getInitialConsent=function(){var e={necessary:"denied",functional:"denied",analytics:"denied",performance:"denied",marketing:"denied"};return window.beslist_tracking_js_consent?window.beslist_tracking_js_consent.reduce((function(e,n){return p(p({},e),n)}),e):e},n.prototype.initializeConsentUpdateListener=function(){var e=this;document.addEventListener("beslist_tracking_js_consent",(function(n){var t={};n.detail.hasOwnProperty(e.mapConsentType("necessary"))&&(t.necessary="granted"===n.detail[e.mapConsentType("necessary")]?"granted":"denied"),n.detail.hasOwnProperty(e.mapConsentType("functional"))&&(t.functional="granted"===n.detail[e.mapConsentType("functional")]?"granted":"denied"),n.detail.hasOwnProperty(e.mapConsentType("analytics"))&&(t.analytics="granted"===n.detail[e.mapConsentType("analytics")]?"granted":"denied"),n.detail.hasOwnProperty(e.mapConsentType("performance"))&&(t.performance="granted"===n.detail[e.mapConsentType("performance")]?"granted":"denied"),n.detail.hasOwnProperty(e.mapConsentType("marketing"))&&(t.marketing="granted"===n.detail[e.mapConsentType("marketing")]?"granted":"denied"),e.updateConsent(t)}))},n.prototype.parseConsentCookieValue=function(e,n){},n.consentHandlerName="custom",n.consentTypeMapping={necessary:"necessary",functional:"functional",analytics:"analytics",performance:"performance",marketing:"marketing"},n.cookieNameMapping={necessary:void 0,functional:void 0,analytics:void 0,performance:void 0,marketing:void 0},n}(o),d=function(){function e(e){this.known_advertising_params=["__hsfp","__hssc","__hstc","__s","_hsenc","_openstat","dclid","fbclid","gclid","hsCtaTracking","mc_eid","mkt_tok","ml_subscriber","ml_subscriber_hash","msclkid","oly_anon_id","oly_enc_id","rb_clickid","s_cid","vero_conv","vero_id","wickedid","yclid"],this.configuration=e}return e.prototype.sendSessionStart=function(){var e=this;return new Promise((function(n,t){var o={eventName:"session_start",screenHeight:screen.height||void 0,screenWidth:screen.width||void 0,location:{protocol:window.location.protocol||"",host:window.location.host||"",path:window.location.pathname||"",query:window.location.search||"",hash:window.location.hash||"",referrer:document.referrer||""},context:{sessionStartReasons:e.getSessionStartReasons().join("|")}},i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&(200===i.status?n(i.status):t(i.status))},i.open("POST",e.configuration.eventApiUrl,!0),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("X-Beslist-Token",e.configuration.formKey),i.send(JSON.stringify(o))}))},e.prototype.sendQueuedEvents=function(){var e=this;return new Promise((function(n,t){var o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&(200===o.status?n(o.status):t(o.status))},o.open("POST",e.configuration.queuedEventsApiUrl,!0),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("X-Beslist-Token",e.configuration.formKey),o.send()}))},e.prototype.hasSessionIDCookie=function(){return void 0!==n.getCookie(this.configuration.sessionIDCookieName)},e.prototype.requiresSessionStart=function(){return this.getSessionStartReasons().length>=1},e.prototype.getSessionStartReasons=function(){var e=[];return this.hasSessionIDCookie()||e.push("no session id"),this.isPageReload()||(""!==document.referrer?new URL(document.referrer).hostname.split(".").slice(-2).join(".")!==location.hostname.split(".").slice(-2).join(".")&&e.push("new referrer"):e.push("new referrer"),window.location.search.indexOf("utm_")>-1&&e.push("utm detected"),window.location.search.indexOf("clientUuid")>-1?e.push("new uuid detected"):window.location.search.indexOf("bl3nlclid")>-1&&e.push("new bl3nlclid detected"),this.known_advertising_params.some((function(e){return window.location.search.includes(e)}))&&-1===window.location.search.indexOf("_gl")&&e.push("advertising param detected")),e},e.prototype.isPageReload=function(){return window.performance.navigation&&1===window.performance.navigation.type||performance.getEntriesByType("navigation").some((function(e){return"reload"===e.type}))},e}(),l=function(){function e(e){var n=this;this.hasSentSessionStart=!1,this.configuration=e,console.log(this.configuration),this.configuration.areCustomTriggersEnabled&&this.addCustomConsentMethods(),this.eventHandler=new d(this.configuration),this.configuration.isTrackingEnabled&&(this.consentHandler=this.getActiveConsentHandler(),this.consentHandler?(this.consentHandler.currentConsent.subscribe((function(e){return n.handleConsentUpdateEvent(e)})),this.consentHandler.initialize()):console.info("Beslist Tracking: No ConsentHandler initialized."))}return e.prototype.addCustomConsentMethods=function(){window.beslist_tracking_js_consent=window.beslist_tracking_js_consent||[];var e=this.configuration.consentFromAction;e&&window.beslist_tracking_js_consent.push(e),window.beslist_tracking_update_consent=function(e){window.beslist_tracking_js_consent.push(e),document.dispatchEvent(new CustomEvent("beslist_tracking_js_consent",{detail:e}))}},e.prototype.handleConsentUpdateEvent=function(e){var t=this;n.setCookie(this.configuration.consentCookieName,JSON.stringify(e),31536e3),this.configuration.hasQueuedEvents&&this.isConsentOfTypesGranted(this.configuration.requiredConsentTypes,e.consent)&&this.eventHandler.sendQueuedEvents().then((function(){t.configuration.hasQueuedEvents=!1})),!this.hasSentSessionStart&&this.eventHandler.requiresSessionStart()&&this.eventHandler.sendSessionStart().then((function(){t.hasSentSessionStart=!0,t.isConsentOfTypesGranted(t.configuration.requiredConsentTypes,e.consent)||(t.configuration.hasQueuedEvents=!0)}))},e.prototype.isConsentOfTypesGranted=function(e,n){var t=this;return e.every((function(e){return t.isConsentOfTypeGranted(e,n)}))},e.prototype.isConsentOfTypeGranted=function(e,n){switch(!0){case"necessary"===e:return!(!n.necessary||"granted"!==n.necessary);case"functional"===e:return!(!n.functional||"granted"!==n.functional);case"analytics"===e:return!(!n.analytics||"granted"!==n.analytics);case"performance"===e:return!(!n.performance||"granted"!==n.performance);case"marketing"===e:return!(!n.marketing||"granted"!==n.marketing);default:throw new Error('ConsentType "'+e+'" not implemented.')}},e.prototype.getActiveConsentHandler=function(){return this.configuration.activeConsentHandlerName===u.consentHandlerName?new u:this.configuration.activeConsentHandlerName===a.consentHandlerName?new a:this.configuration.activeConsentHandlerName===r.consentHandlerName?new r:void 0},e}();window.addEventListener("beslistTrackingConfigReady",(function(e){var n=e.detail;new l(n)}))})();